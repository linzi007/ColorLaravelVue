webpackJsonp([7,16],{286:function(e,t,r){function a(e){r(742)}var s=r(4)(r(744),r(745),a,null,null);e.exports=s.exports},290:function(e,t,r){function a(e){r(757)}var s=r(4)(r(759),r(760),a,null,null);e.exports=s.exports},358:function(e,t,r){"use strict";function a(e,t){if(0===arguments.length)return null;var r=t||"{y}-{m}-{d} {h}:{i}:{s}",a=void 0;"object"==(void 0===e?"undefined":p()(e))?a=e:(10===(""+e).length&&(e=1e3*parseInt(e)),a=new Date(e));var s={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return r.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var r=s[t];return"a"===t?["一","二","三","四","五","六","日"][r-1]:(e.length>0&&r<10&&(r="0"+r),r||0)})}function s(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t}function n(e){return e?s(u()(e).map(function(t){return void 0===e[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}function o(e,t){if(e&&t){var r=e.className,a=r.indexOf(t);-1===a?r+=""+t:r=r.substr(0,a)+r.substr(a+t.length),e.className=r}}function l(e,t,r){var a=void 0,s=void 0,n=void 0,o=void 0,l=void 0,i=function i(){var c=+new Date-o;c<t&&c>0?a=setTimeout(i,t-c):(a=null,r||(l=e.apply(n,s),a||(n=s=null)))};return function(){for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];n=this,o=+new Date;var u=r&&!a;return a||(a=setTimeout(i,t)),u&&(l=e.apply(n,c),n=c=null),l}}function i(e){var t="error";e.status&&(t="success"),Object(_.Message)({message:e.msg,type:t,duration:2e3})}function c(){var e=new Date;e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0);var t=new Date(e);return t.setMonth(e.getMonth()+1),t.setDate(0),t.setHours(23),t.setMinutes(59),t.setSeconds(59),[e,t]}t.d=a,t.c=n,t.g=o,r.d(t,"e",function(){return h}),t.a=l,t.f=i,t.b=c;var d=r(103),u=r.n(d),m=r(61),p=r.n(m),_=r(60),h=(r.n(_),[{text:"今天",onClick:function(e){var t=new Date,r=new Date((new Date).toDateString());t.setTime(r.getTime()),e.$emit("pick",[r,t])}},{text:"最近一周",onClick:function(e){var t=new Date((new Date).toDateString()),r=new Date;r.setTime(t.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date((new Date).toDateString()),r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date((new Date).toDateString()),r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}])},373:function(e,t,r){"use strict";function a(e,t){return Object(l.a)({url:t,method:"get",params:e})}function s(e,t){return Object(l.a)({url:t,method:"post",data:e})}function n(e,t){return Object(l.a)({url:t,method:"put",data:e})}function o(e){return Object(l.a)({url:e,method:"delete"})}t.c=a,t.a=s,t.d=n,t.b=o;var l=r(104)},742:function(e,t,r){var a=r(743);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(9)("5406c8d0",a,!0)},743:function(e,t,r){t=e.exports=r(5)(void 0),t.push([e.i,"",""])},744:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"OrderGoodsListTable",props:{goodsList:{type:Array,default:null}},data:function(){return{}},computed:{orderGoodsList:function(){return this.goodsList}},watch:{orderGoodsList:{handler:function(e){e.map(function(e){return _.isNull(e.payments)&&(e.payments={goods_id:e.goods_id,quehuo_number:0,jushou_number:0}),e.payments.shifa_number=e.goods_num-e.payments.quehuo_number-e.payments.jushou_number,e}),this.$emit("goods-change",e)},immediate:!0,deep:!0}}}},745:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-table",{ref:"orderGoods",staticStyle:{width:"100%"},attrs:{data:e.orderGoodsList,"max-height":"250"}},[r("el-table-column",{attrs:{width:"100px",align:"center",label:"SKU"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.goods_id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"货品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.goods_name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"110px",align:"center",label:"条码"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.goods_serial))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"150px",align:"center",label:"档口名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.store_id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"150px",align:"center",label:"单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.goods_price))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"110px",align:"center",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.goods_num))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"110px",align:"center",label:"缺货数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{size:"small"},model:{value:t.row.payments.quehuo_number,callback:function(r){t.row.payments.quehuo_number=e._n(r)},expression:"scope.row.payments.quehuo_number"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"110px",fix:"right",align:"center",label:"拒收数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{size:"small"},model:{value:t.row.payments.jushou_number,callback:function(r){t.row.payments.jushou_number=e._n(r)},expression:"scope.row.payments.jushou_number"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"110px",fix:"right",align:"center",label:"实发数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.payments.shifa_number))])]}}])})],1)},staticRenderFns:[]}},757:function(e,t,r){var a=r(758);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(9)("073586e8",a,!0)},758:function(e,t,r){t=e.exports=r(5)(void 0),t.push([e.i,".el-row{margin-bottom:5px}.el-row:last-child{margin-bottom:0}.el-col{margin-bottom:15px}.el-col:last-child{margin-bottom:0}.form-title{text-align:center}.form-line-head{background:#e5e9f2}.form-line-head-desc{float:right}.form-head-price{color:#f7ba2a}.el-form-item{margin-bottom:5px}",""])},759:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(373),s=r(358),n=r(286),o=r.n(n);t.default={name:"MainOrderDetail",components:{OrderGoodsList:o.a},props:{mainOrder:{type:Object,default:null},inputStaus:{tyep:String,default:"edit"}},data:function(){var e=this;return{selectFirstDriver:!1,saveLoading:!1,saveExchangeLoading:!1,recalculateLoading:!1,storeOptions:[],driverOptions:[],goodsListVisible:!1,exchangeBottle:{is_checked:!1,driver_id:0,store_id:"",pay_sn:"",amount:0},priceRule:[{type:"float",message:"必须为数值",trigger:"blur"}],rules:{jk_driver_id:[{required:!0,message:"请选择交款人"}],ck_at:[{type:"date",required:!0,message:"请选择存款日期"}],desc_remark:[{type:"string",message:"必须为数值",trigger:"blur"},{max:100,message:"最大长度为 100 个字符",trigger:"blur"}],out_pay_sn:[{validator:function(t,r,a){(e.orderPayments.pos>0||e.orderPayments.wexin>0||e.orderPayments.wexin>0)&&_.isNull(r)&&a(new Error("请输入刷卡单号")),a()},trigger:"blur"},{type:"string",max:100,message:"最大长度在为 100 个字符",trigger:"blur"}],remark:[{type:"string",max:100,message:"最大长度在为 100 个字符",trigger:"blur"}],qiandan:[{type:"number",message:"必须为数值",trigger:"blur"}],ziti:[{type:"number",message:"必须为数值",trigger:"blur"}],weicha:[{type:"number",message:"必须为数值",trigger:"blur"}],qita:[{type:"number",message:"必须为数值",trigger:"blur"}],pos:[{type:"number",message:"必须为数值",trigger:"blur"}],weixin:[{type:"number",message:"必须为数值",trigger:"blur"}],alipay:[{type:"number",message:"必须为数值",trigger:"blur"}],cash:[{type:"number",message:"必须为数值",trigger:"blur"}],yizhifu:[{type:"number",message:"必须为数值",trigger:"blur"}]},dateOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"大前天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-1728e5),e.$emit("pick",t)}}]}}},created:function(){this.getDriverOptions(),this.getStoreOptions()},computed:{orderPayments:function(){return this.mainOrder},shifaAmount:function(){return this.getShifaAmount()},yingshouAmount:function(){return this.getYingshouAmount()},shishouAmount:function(){return this.getShishouAmount()}},methods:{handleExchangeBottle:function(){var e=this;return _.isNull(this.orderPayments.jk_driver_id)?(this.$message({message:"请先选择交款人",type:"error"}),!1):(this.exchangeBottle.driver_id=this.orderPayments.jk_driver_id,this.exchangeBottle.amount?(this.exchangeBottle.pay_sn=this.orderPayments.pay_sn,this.saveExchangeLoading=!0,void Object(a.a)(this.exchangeBottle,"/exchange_bottles").then(function(t){e.saveExchangeLoading=!1,Object(s.f)(t.data)})):(this.$message({message:"请输入兑换金额",type:"error"}),!1))},handleReCalculate:function(){var e=this;if(!this.orderPayments.id)return this.$message({message:"录入之后将自动计算",type:"error"}),!1;this.recalculateLoading=!0,Object(a.c)({pay_ids:this.orderPayments.pay_id},"/main_order_payments/re_calculate").then(function(t){e.recalculateLoading=!1,Object(s.f)(t.data)})},handleSave:function(e){var t=this;this.$refs.orderMainForm.validate(function(r){if(!r)return!1;t.saveLoading=!0,Object(a.a)(t.orderPayments,"/main_order_payments").then(function(r){if(t.saveLoading=!1,!r.data.status)return t.$message({message:r.data.msg,type:"error"}),!1;e>0?t.$emit("handleCancel"):t.$emit("handleRefreshDetail",t.orderPayments.pay_id),t.$notify({title:"更新成功",message:"更新成功",type:"success",duration:1e3})})})},handleCancel:function(){this.saveLoading=!1,this.$emit("handleCancel")},handleSaveAndCancel:function(){this.handleSave(1)},toogleGoodsList:function(){this.goodsListVisible=!this.goodsListVisible},handleGoodsListChange:function(e){this.orderPayments.goods_list=e;var t=0,r=0;_.forEach(this.orderPayments.goods_list,function(e){_.isNull(e.payments)||(t=_.add(e.payments.jushou_number*e.goods_price,t),r=_.add(e.payments.quehuo_number*e.goods_price,r))}),this.orderPayments.jushou=t,this.orderPayments.quehuo=r,this.orderPayments.shifa=this.getShifaAmount()},handlePreOne:function(){this.$emit("pre")},handleNextOne:function(){this.$emit("next")},handleNull:function(){_.isNull(this.orderPayments.pd_amount)&&(this.orderPayments.pd_amount=0),_.isNull(this.orderPayments.pos)&&(this.orderPayments.pos=0),_.isNull(this.orderPayments.weixin)&&(this.orderPayments.weixin=0),_.isNull(this.orderPayments.alipay)&&(this.orderPayments.alipay=0),_.isNull(this.orderPayments.yizhifu)&&(this.orderPayments.yizhifu=0),_.isNull(this.orderPayments.cash)&&(this.orderPayments.cash=0),_.isNull(this.orderPayments.cash)&&(this.orderPayments.refuse_delivery_fee=0),_.isNull(this.orderPayments.cash)&&(this.orderPayments.help_pd_amount=0)},getShishouAmount:function(){return this.handleNull(),_.add(_.add(_.add(_.add(_.add(_.add(_.add(parseFloat(this.orderPayments.pd_amount),parseFloat(this.orderPayments.pos)),parseFloat(this.orderPayments.weixin)),parseFloat(this.orderPayments.alipay)),parseFloat(this.orderPayments.yizhifu)),parseFloat(this.orderPayments.cash)),parseFloat(this.orderPayments.help_pd_amount)),parseFloat(this.orderPayments.refuse_delivery_fee))},getYingshouAmount:function(){return _.isNull(this.orderPayments.reduce_coupon)&&(this.orderPayments.reduce_coupon=0),_.add(parseFloat(this.orderPayments.reduce_coupon),parseFloat(this.orderPayments.shifa))-this.orderPayments.qiandan-this.orderPayments.ziti-this.orderPayments.weicha-this.orderPayments.qita-this.orderPayments.promotion_amount},getShifaAmount:function(){return this.orderPayments.goods_amount-this.orderPayments.jushou-this.orderPayments.quehuo},getDriverOptions:function(){var e=this;Object(a.c)({},"/drivers_list").then(function(t){e.driverOptions=t.data})},getStoreOptions:function(){var e=this;Object(a.c)({},"/stores").then(function(t){e.storeOptions=t.data})}}}},760:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"orderMainForm",attrs:{model:e.orderPayments,rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{gutter:30,type:"flex",justify:"left"}},[r("el-col",{attrs:{span:6}},[r("el-button-group",[r("el-button",{attrs:{type:"primary",size:"small",icon:"arrow-left"},on:{click:function(t){e.handlePreOne()}}},[e._v("上一条")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleNextOne()}}},[e._v("下一条"),r("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1)],1),e._v(" "),r("el-row",[r("h3",{staticClass:"form-title"},[e._v("订单信息")])]),e._v(" "),r("el-row",[r("div",{staticClass:"form-line-head"},[e._v("\n      订单信息\n    ")])]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"支付单号："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e.orderPayments.pay_sn)+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"订单时间："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e.orderPayments.add_time)+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"门店名称："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e.orderPayments.receiver_shop_name)+"\n          ")])])],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"收货人："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e.orderPayments.receiver_name)+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"详细地址："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e.orderPayments.receiver_area_info)+" "+e._s(e.orderPayments.receiver_address_detail)+"\n          ")])])],1)],1),e._v(" "),r("el-row",[r("div",{staticClass:"form-line-head",staticStyle:{background:"#D3DCE6"}},[e._v("\n      实发金额："),r("span",{staticClass:"form-head-price"},[e._v(e._s(e._f("currency")(e.shifaAmount)))]),r("span",{staticClass:"form-line-head-desc"},[e._v("（备注实发=货品金额-缺货-拒收）")])])]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"货品金额："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e._f("currency")(e.orderPayments.goods_amount))+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"缺货金额："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e._f("currency")(e.orderPayments.quehuo))+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"拒收金额："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e._f("currency")(e.orderPayments.jushou))+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.toogleGoodsList()}}},[e._v("缺货/拒收录入")])],1)],1),e._v(" "),r("el-row",[r("order-goods-list",{directives:[{name:"show",rawName:"v-show",value:e.goodsListVisible,expression:"goodsListVisible"}],attrs:{goodsList:e.orderPayments.goods_list},on:{"goods-change":e.handleGoodsListChange}})],1),e._v(" "),r("el-row",[r("div",{staticClass:"form-line-head",staticStyle:{background:"#F9FAFC"}},[e._v("\n      应收金额："),r("span",{staticClass:"form-head-price"},[e._v(e._s(e._f("currency")(e.yingshouAmount)))]),r("span",{staticClass:"form-line-head-desc"},[e._v("（备注：应收=实发金额-签单-自提-其他-尾差）")])])]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"签单金额：",prop:"qiandan"}},[r("el-input",{attrs:{placeholder:"签单金额"},model:{value:e.orderPayments.qiandan,callback:function(t){e.orderPayments.qiandan=e._n(t)},expression:"orderPayments.qiandan"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"自提金额：",prop:"ziti"}},[r("el-input",{attrs:{placeholder:"自提金额"},model:{value:e.orderPayments.ziti,callback:function(t){e.orderPayments.ziti=e._n(t)},expression:"orderPayments.ziti"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"尾差金额：",prop:"weicha"}},[r("el-input",{attrs:{placeholder:"尾差金额"},model:{value:e.orderPayments.weicha,callback:function(t){e.orderPayments.weicha=e._n(t)},expression:"orderPayments.weicha"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"其他金额：",prop:"qita"}},[r("el-input",{attrs:{placeholder:"其他金额"},model:{value:e.orderPayments.qita,callback:function(t){e.orderPayments.qita=e._n(t)},expression:"orderPayments.qita"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"备注：",prop:"desc_remark"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:4},placeholder:"扣减说明"},model:{value:e.orderPayments.desc_remark,callback:function(t){e.orderPayments.desc_remark=t},expression:"orderPayments.desc_remark"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"代金券："}},[r("span",{staticClass:"form-item"},[e._v("\n            "+e._s(e.orderPayments.promotion_amount)+"\n          ")])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"扣代金券：",prop:"reduce_coupon"}},[r("el-input",{attrs:{placeholder:"扣代金券"},model:{value:e.orderPayments.reduce_coupon,callback:function(t){e.orderPayments.reduce_coupon=e._n(t)},expression:"orderPayments.reduce_coupon"}})],1)],1)],1),e._v(" "),r("el-row",[r("div",{staticClass:"form-line-head",staticStyle:{background:"#8492A6"}},[e._v("\n      实收金额："),r("span",{staticClass:"form-head-price"},[e._v(e._s(e._f("currency")(e.shishouAmount)))]),r("span",{staticClass:"form-line-head-desc"},[e._v("（备注：实收=预存款+POS+微信+支付宝+现金）")])])]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"预存款金额："}},[r("span",{staticClass:"form-item"},[e._v("\n          "+e._s(e.orderPayments.pd_amount)+"\n        ")])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"POS金额：",prop:"pos"}},[r("el-input",{attrs:{placeholder:"POS金额"},model:{value:e.orderPayments.pos,callback:function(t){e.orderPayments.pos=e._n(t)},expression:"orderPayments.pos"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"刷卡单号：",prop:"out_pay_sn"}},[r("el-input",{attrs:{placeholder:"刷卡单号"},model:{value:e.orderPayments.out_pay_sn,callback:function(t){e.orderPayments.out_pay_sn=t},expression:"orderPayments.out_pay_sn"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"微信金额：",prop:"weixin"}},[r("el-input",{attrs:{placeholder:"微信金额"},model:{value:e.orderPayments.weixin,callback:function(t){e.orderPayments.weixin=e._n(t)},expression:"orderPayments.weixin"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"支付宝金额：",prop:"alipay"}},[r("el-input",{attrs:{placeholder:"支付宝金额"},model:{value:e.orderPayments.alipay,callback:function(t){e.orderPayments.alipay=e._n(t)},expression:"orderPayments.alipay"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"现金：",prop:"cash"}},[r("el-input",{attrs:{placeholder:"现金"},model:{value:e.orderPayments.cash,callback:function(t){e.orderPayments.cash=e._n(t)},expression:"orderPayments.cash"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"代扣预存款：",prop:"help_pd_amount"}},[r("el-input",{attrs:{placeholder:"代扣预存款"},model:{value:e.orderPayments.help_pd_amount,callback:function(t){e.orderPayments.help_pd_amount=e._n(t)},expression:"orderPayments.help_pd_amount"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"翼支付金额：",prop:"yizhifu"}},[r("el-input",{attrs:{placeholder:"翼支付金额"},model:{value:e.orderPayments.yizhifu,callback:function(t){e.orderPayments.yizhifu=e._n(t)},expression:"orderPayments.yizhifu"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"交款人：",prop:"jk_driver_id"}},[r("el-select",{attrs:{filterable:"",placeholder:"请输入关键词"},model:{value:e.orderPayments.jk_driver_id,callback:function(t){e.orderPayments.jk_driver_id=t},expression:"orderPayments.jk_driver_id"}},e._l(e.driverOptions,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"收款日期：",prop:"jk_at"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.dateOptions},model:{value:e.orderPayments.jk_at,callback:function(t){e.orderPayments.jk_at=t},expression:"orderPayments.jk_at"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"存款日期：",prop:"ck_at"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.dateOptions},model:{value:e.orderPayments.ck_at,callback:function(t){e.orderPayments.ck_at=t},expression:"orderPayments.ck_at"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"收款备注：",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}},model:{value:e.orderPayments.remark,callback:function(t){e.orderPayments.remark=t},expression:"orderPayments.remark"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"拒收运费：",prop:"refuse_delivery_fee"}},[r("el-input",{attrs:{placeholder:"收客户拒收运费"},model:{value:e.orderPayments.refuse_delivery_fee,callback:function(t){e.orderPayments.refuse_delivery_fee=e._n(t)},expression:"orderPayments.refuse_delivery_fee"}})],1)],1)],1),e._v(" "),r("el-row",[r("div",{staticClass:"form-line-head"},[e._v("\n      配送费：\n    ")])]),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"货物配送费："}},[r("el-input",{attrs:{placeholder:"货物配送费",disabled:!0},model:{value:e.orderPayments.delivery_fee,callback:function(t){e.orderPayments.delivery_fee=t},expression:"orderPayments.delivery_fee"}},[r("el-button",{attrs:{loading:e.recalculateLoading},on:{click:function(t){e.handleReCalculate()}},slot:"append"},[e._v("重算")])],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"司机配送费："}},[r("el-input",{attrs:{placeholder:"司机配送费",disabled:!0},model:{value:e.orderPayments.driver_fee,callback:function(t){e.orderPayments.driver_fee=t},expression:"orderPayments.driver_fee"}},[r("el-button",{attrs:{loading:e.recalculateLoading},on:{click:function(t){e.handleReCalculate()}},slot:"append"},[e._v("重算")])],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-checkbox",{attrs:{checked:e.selectFirstDriver},model:{value:e.selectFirstDriver,callback:function(t){e.selectFirstDriver=t},expression:"selectFirstDriver"}},[e._v("二次配送")])],1),e._v(" "),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.selectFirstDriver,expression:"selectFirstDriver"}],attrs:{span:14}},[r("el-form-item",{attrs:{label:"首配司机："}},[r("el-select",{attrs:{filterable:"",placeholder:"请输入关键词"},model:{value:e.orderPayments.second_driver_id,callback:function(t){e.orderPayments.second_driver_id=t},expression:"orderPayments.second_driver_id"}},e._l(e.driverOptions,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-checkbox",{attrs:{checked:e.exchangeBottle.is_checked},model:{value:e.exchangeBottle.is_checked,callback:function(t){e.exchangeBottle.is_checked=t},expression:"exchangeBottle.is_checked"}},[e._v("换盖")])],1),e._v(" "),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.exchangeBottle.is_checked,expression:"exchangeBottle.is_checked"}],attrs:{span:10}},[r("el-form-item",{attrs:{label:"兑换档口："}},[r("el-select",{attrs:{filterable:"",placeholder:"请输入关键词"},model:{value:e.exchangeBottle.store_id,callback:function(t){e.exchangeBottle.store_id=t},expression:"exchangeBottle.store_id"}},e._l(e.storeOptions,function(e){return r("el-option",{key:e.store_id,attrs:{label:e.store_name,value:e.store_id}})}))],1)],1),e._v(" "),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.exchangeBottle.is_checked,expression:"exchangeBottle.is_checked"}],attrs:{span:10}},[r("el-form-item",{attrs:{label:"换盖金额：",prop:"exhange_amount"}},[r("el-input",{attrs:{placeholder:"换盖金额"},model:{value:e.exchangeBottle.amount,callback:function(t){e.exchangeBottle.amount=t},expression:"exchangeBottle.amount"}},[r("el-button",{attrs:{loading:e.saveExchangeLoading},on:{click:function(t){e.handleExchangeBottle()}},slot:"append"},[e._v("保存")])],1)],1)],1)],1),e._v(" "),r("el-row",{staticClass:"form-footer",attrs:{gutter:20}},[r("el-col",{staticClass:"form-footer-text",attrs:{span:6}},[e._v("\n          录入人："+e._s(e.orderPayments.jlr)+"\n      ")]),e._v(" "),r("el-col",{staticClass:"form-footer-text",attrs:{span:6}},[e._v("\n          变更人："+e._s(e.orderPayments.updater)+"\n      ")]),e._v(" "),r("el-col",{staticClass:"form-footer-text",attrs:{span:6}},[e._v("\n          修改日期："+e._s(e.orderPayments.updated_at)+"\n      ")]),e._v(" "),r("el-col",{staticClass:"form-footer-text",attrs:{span:6}},[e._v("\n          录入状态："+e._s(e._f("orderPaymentsStatus")(e.orderPayments.status))+"\n      ")])],1),e._v(" "),r("el-row",{staticClass:"row-bg",attrs:{gutter:20,type:"flex",justify:"center"}},[r("el-col",{attrs:{span:6}},[r("el-button",{on:{click:e.handleCancel}},[e._v("取 消")])],1),e._v(" "),r("el-col",{attrs:{span:6}},[1!=e.orderPayments.status?r("el-button",{attrs:{loading:e.saveLoading,type:"primary"},on:{click:e.handleSaveAndCancel}},[e._v("保存并退出")]):e._e()],1),e._v(" "),r("el-col",{attrs:{span:6}},[1!=e.orderPayments.status?r("el-button",{attrs:{loading:e.saveLoading,type:"primary"},on:{click:function(t){e.handleSave(0)}}},[e._v("保 存")]):e._e()],1)],1)],1)},staticRenderFns:[]}}});